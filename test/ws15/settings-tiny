# training/test languages
ALL_LANGS=(AR SW)
TRAIN_LANG=(AR)
TEST_LANG=(SW)
TEST_LANG_NAME=swahili # data-WS15/langmodels/swahili/bigram.fst

# directories
DATA=data-WS15
DATA_URL=http://isle.illinois.edu/mc/PTgenTest/data-WS15.tgz # ifp-serv-03:/workspace/speech_web/mc == http://isle.illinois.edu/mc/
EXP=$HOME/Tmp/Exp
EXPLOCAL=$EXP/$TEST_LANG_NAME-X
tmproot=/tmp

# data 
LISTDIR=$DATA/lists
TRANSDIR=$DATA/nativetranscripts
TURKERTEXT=$DATA/batchfiles
langmap=$LISTDIR/langcodes.txt
TESTTYPE='dev'
#TESTTYPE='eval'
evalreffile=$TRANSDIR/$TEST_LANG_NAME/${TESTTYPE}_text

# alphabets
engdict=$DATA/let2phn/eng_dict.txt
engalphabet=$DATA/let2phn/englets.vocab
phnalphabet=$DATA/phonesets/univ.compact.txt

#phonelm=$DATA/langmodels/$TEST_LANG_NAME/unigram.fst 			
phonelm=$DATA/langmodels/$TEST_LANG_NAME/bigram.fst

# data splits
trainids=$EXPLOCAL/lists/train
testids=$EXPLOCAL/lists/${TESTTYPE}
adaptids=$EXPLOCAL/lists/adapt
priortrainfile=$trainids

# local files
reffile=$EXPLOCAL/ref_train_text
transcripts=$EXPLOCAL/transcripts.txt
simfile=$EXPLOCAL/simscores.txt
aligndist=$EXPLOCAL/aligndists.txt
mergedir=$EXPLOCAL/mergedir
mergefstdir=$EXPLOCAL/mergefstdir
splittrainids=$EXPLOCAL/lists/trainids
splittestids=$EXPLOCAL/lists/testids
splitadaptids=$EXPLOCAL/lists/adaptids
Pstyle=simple # simple, letctxt or phnletctxt (Stage 6)
initcarmel=$EXPLOCAL/carmel/$Pstyle
carmeltraintxt=$EXPLOCAL/carmel/training.txt
decodelatdir=$EXPLOCAL/decode
hypfile=$EXPLOCAL/hypotheses.txt
evaloutput=$EXPLOCAL/eval.txt
Gfst=$EXPLOCAL/${TEST_LANG_NAME}.G.fst
Tfst=$EXPLOCAL/T.fst
Pfst=$EXPLOCAL/P.fst
Lfst=$EXPLOCAL/L.fst
TPLfst=$EXPLOCAL/TPL.fst
GTPLfst=$EXPLOCAL/GTPL.fst

# parameters
rmprefix="http://"      # Stage 1 (used in file ID creation)
delimsymbol='%'
disambigdel='#2'
disambigins='#3'
phneps='<eps>'
leteps='-'
gapsymbol='_'
Nturkers=10
nparts=4
topN=4
nparallel=11	# numCPUs - 1, todo.
alignswitchpenalty=1	# Stage 6
nrand=12		# Stage 7
Pscale=1		# Stage 9
Gscale=1		# Stage 10
Lscale=1		# Stage 11
Tnumins=10		# Stage 12
Tnumdel=5		# Stage 12
Mscale=1		# Stage 14
prunewt=2		# Stage 15

# algorithmic options
carmelinitopt="--$Pstyle"
#carmelinitopt="--$Pstyle --startwith=$EXPLOCAL/simple.trained"
aligneropt="--dist $aligndist --empty $gapsymbol"
alignertofstopt="--switchpenalty $alignswitchpenalty"

# flags: comment out to disable
makeGTPLM=1
#makeTPLM=1
#decode_for_adapt=1
#evaloracle=1
debug=1

##########################################################
# the stage number for run.sh to start from
startstage=1
endstage=15
##########################################################
